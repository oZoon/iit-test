function maskPhone(e,t="+7 (___) ___-__-__"){const l=document.querySelectorAll(e);function n(e){const l=e.keyCode,n=t,a=n.replace(/\D/g,""),u=this.value.replace(/\D/g,"");let s=0,r=n.replace(/[_\d]/g,function(e){return s<u.length?u.charAt(s++)||a.charAt(s):e});-1!==(s=r.indexOf("_"))&&(r=r.slice(0,s));let i=n.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(i=new RegExp("^"+i+"$")).test(this.value)||this.value.length<5||l>47&&l<58)&&(this.value=r),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of l)e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)}function maskDateTime(e){const t=document.querySelectorAll(e),l="0123456789".split(""),n=[2,2,4,2,2];function a(e){const t=e.data;if(e.target.value.length<16)if(l.includes(t)||null===t){const l=e.target.value.replace(/[^0-9]/g,""),a=[];a[0]=l.slice(0,2),a[1]=l.slice(2,4),a[2]=l.slice(4,8),a[3]=l.slice(8,10),a[4]=l.slice(10,12);let u=a[0].length==n[0]?a[0]+".":a[0];u+=a[1].length==n[1]?a[1]+".":a[1],u+=a[2].length==n[2]?a[2]+" ":a[2],u+=a[3].length==n[3]?a[3]+":":a[3],u+=a[4],null===t&&[2,4,8,10].includes(l.length)&&(u=u.substring(0,u.length-1)),e.target.value=u}else e.target.value=e.target.value.substring(0,e.target.value.length-1),e.preventDefault();else e.target.value=e.target.value.substring(0,16),e.preventDefault()}for(const e of t)e.addEventListener("input",a)}
